(function(){"use strict";var e={2163:function(e,t,a){var n=a(9798),r=a(4220);const s={class:"main-conatiner"};function o(e,t){const a=(0,r.g2)("router-view"),n=(0,r.g2)("q-page-container"),o=(0,r.g2)("q-layout");return(0,r.uX)(),(0,r.Wv)(o,{view:"hHh LpR fFf"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",s,[(0,r.bF)(a)])])),_:1})])),_:1})}var l=a(1317),i=a(3555),u=a(6284),c=a(2110),m=a.n(c);const d={},p=(0,l.A)(d,[["render",o]]);var v=p;m()(d,"components",{QLayout:i.A,QPageContainer:u.A});var f=a(5220);function b(e,t){return(0,r.uX)(),(0,r.CE)("div",null,t[0]||(t[0]=[(0,r.Lk)("h3",{class:"text-center"},"Page not found",-1)]))}const g={},h=(0,l.A)(g,[["render",b]]);var y=h,_=a(6732),k=a(7700),w=a(3937);a(4645),a(4564),a(5765),a(4329),a(8674),a(7578);function M(e,t){return t?.[e]?t[e]:e}function A(e){return Array(10).fill(null).flatMap(((t,a)=>e.map(((t,n)=>({...t,id:a*e.length+n+1})))))}function F(e,t){const a=[];if(!t||t<=0)return[e];for(let n=0;n<e.length;n+=t)a.push(e.slice(n,n+t));return a}const E={class:"page-filter flex justify-between items-end no-wrap"},T={class:"filter__wrapper row justify-start items-center"};var R=(0,r.pM)({__name:"TeamMembersFilter",props:{service:{default:null},data:{default:()=>[]},loading:{type:Boolean,default:!1}},emits:["update"],setup(e,{emit:t}){const a=e,n=t,s=(0,w.Pj)(),o=(0,_.KR)(-1),l=(0,_.KR)({}),i=(0,_.KR)([]),u=(0,_.KR)([]),c=(0,_.KR)({}),m=(0,r.EW)((()=>s?.state.teamMembers.gridTypes)),d=(0,r.EW)((()=>s?.state.teamMembers.gridType)),p=()=>{o.value++,o.value>m.value.length-1&&(o.value=0),s.dispatch("teamMembers/setGridType",m.value[o.value])},v=e=>{const t=[];return Array.isArray(a.data)&&a.data.forEach((a=>{t.includes(a[e])||t.push(a[e])})),t},f=()=>{const e=a.service?.fieldSettings.options;for(const t in e)c.value[t]=[],c.value[t]=v(e[t])},b=()=>{l.value=JSON.parse(JSON.stringify(a.service?.defaultFilter))},g=()=>{i.value=[...i.value,...a.service?.inputFields],u.value=[...u.value,...a.service?.dropdownFields]};(0,r.wB)((()=>a.data),(()=>{f()}),{deep:!0}),(0,r.wB)((()=>l.value),(()=>{n("update",l.value)}),{deep:!0});(()=>{b(),g(),p()})();return(e,t)=>{const a=(0,r.g2)("q-input"),n=(0,r.g2)("q-select"),s=(0,r.g2)("q-btn");return(0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",T,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Object.keys(e.service?.defaultFilter),(t=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,k.C4)(`col-md-${e.service.fieldwidth[t]} col-sm-6 col-xs-12`)},[i.value.find((e=>e===t))?((0,r.uX)(),(0,r.Wv)(a,{key:0,outlined:"",dense:"",name:t,loading:e.loading,debounce:"1000",class:"q-pr-md row-field",modelValue:l.value[t],"onUpdate:modelValue":e=>l.value[t]=e,label:(0,_.R1)(M)(t,e.service?.listName)},null,8,["name","loading","modelValue","onUpdate:modelValue","label"])):u.value.find((e=>e===t))?((0,r.uX)(),(0,r.Wv)(n,{key:1,outlined:"",dense:"","options-dense":"",clearable:"",loading:e.loading,"clear-icon":"close",class:"q-pr-md",label:(0,_.R1)(M)(t,e.service?.listName),modelValue:l.value[t],"onUpdate:modelValue":e=>l.value[t]=e,"input-debounce":"0",options:c.value?.[t]},null,8,["loading","label","modelValue","onUpdate:modelValue","options"])):(0,r.Q3)("",!0)],2)))),128))]),(0,r.bF)(s,{align:"left",class:(0,k.C4)(["small",d.value]),label:d.value,onClick:p},null,8,["class","label"])])}}}),C=a(4985),S=a(7496),L=a(3197),q=a(5855);const Q=R;var P=Q;m()(R,"components",{QInput:C.A,QSelect:S.A,QBtn:L.A,QField:q.A});const X={style:{border:"1px solid red"}};var x=(0,r.pM)({__name:"TeamMembersItem",props:{teamMember:{default:()=>({})}},emits:["show-info"],setup(e,{emit:t}){const a=(0,w.Pj)();(0,r.EW)((()=>a?.state.teamMembers.gridType));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",X,"DEBUG: "+(0,k.v_)(e.teamMember.name),1))}}),W=a(3663),j=a(3359),I=a(1484),K=a(7180);const O=x;var B=O;m()(x,"components",{QCard:W.A,QItem:j.A,QItemSection:I.A,QCardSection:K.A});const V={class:"text-h6"};var D=(0,r.pM)({__name:"BasePopUp",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=e,n=t,s=(0,_.KR)(!1),o=()=>{n("close")};return(0,r.wB)((()=>a.show),(()=>{s.value=a.show})),(e,t)=>{const a=(0,r.g2)("q-card-section"),n=(0,r.g2)("q-card"),l=(0,r.g2)("q-dialog");return(0,r.uX)(),(0,r.Wv)(l,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),onHide:o},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"base-dialog",style:{width:"500px","max-width":"100%"}},{default:(0,r.k6)((()=>[(0,r.bF)(a,{class:"header"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",V,[(0,r.RG)(e.$slots,"title",{},(()=>[t[1]||(t[1]=(0,r.eW)(" Title "))]))])])),_:3}),(0,r.bF)(a,{class:"q-pt-none content"},{default:(0,r.k6)((()=>[(0,r.RG)(e.$slots,"content")])),_:3})])),_:3})])),_:3},8,["modelValue"])}}}),U=a(5704);const N=D;var z=N;m()(D,"components",{QDialog:U.A,QCard:W.A,QCardSection:K.A});const G=["src"];var $=(0,r.pM)({__name:"AvatarPresentation",props:{entity:{default:""},mode:{default:""}},setup(e){return(e,t)=>{const a=(0,r.g2)("q-avatar");return(0,r.uX)(),(0,r.Wv)(a,null,{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:e.entity},null,8,G)])),_:1})}}}),H=a(5515);const Y=$;var J=Y;m()($,"components",{QAvatar:H.A});const Z={class:"item-chips__wrapper"};var ee=(0,r.pM)({__name:"SkillsPresentation",props:{entity:{default:()=>[]},mode:{default:""}},setup(e){return(e,t)=>{const a=(0,r.g2)("q-chip");return(0,r.uX)(),(0,r.CE)("div",Z,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.entity,(e=>((0,r.uX)(),(0,r.Wv)(a,{key:e,size:"12px",color:"secondary","text-color":"primary"},{default:(0,r.k6)((()=>[(0,r.eW)((0,k.v_)(e),1)])),_:2},1024)))),128))])}}}),te=a(7491);const ae=ee;var ne=ae;m()(ee,"components",{QChip:te.A});const re={class:"item-name__wrapper"};var se=(0,r.pM)({__name:"InfoPresentation",props:{entity:{default:()=>({})},gridType:{default:""},mode:{default:""}},setup(e){return(e,t)=>{const a=(0,r.g2)("q-item-label");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",re,[(0,r.bF)(a,{class:"title"},{default:(0,r.k6)((()=>[(0,r.eW)((0,k.v_)(e.entity.name),1)])),_:1}),"list"===e.gridType?((0,r.uX)(),(0,r.Wv)(a,{key:0,caption:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,k.v_)(e.entity.email),1)])),_:1})):(0,r.Q3)("",!0)]),(0,r.bF)(a,{class:"department",caption:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,k.v_)(e.entity.position),1)])),_:1}),(0,r.bF)(a,{class:"thumbnail"},{default:(0,r.k6)((()=>[(0,r.eW)((0,k.v_)(e.entity.department),1)])),_:1})],64)}}}),oe=a(2473);const le=se;var ie=le;m()(se,"components",{QItemLabel:oe.A});const ue={class:"item"},ce={class:"flex justify-start items-start q-mt-sm q-mb-sm"},me={class:"option"},de={class:"q-mb-sm"},pe={class:"option"},ve={class:"q-mb-sm"};var fe=(0,r.pM)({__name:"TeamMemberInfo",props:{show:{type:Boolean,default:!1},teamMember:{default:()=>({})}},emits:["close"],setup(e,{emit:t}){const a=t,n=()=>{a("close")};return(e,t)=>{const a=(0,r.g2)("q-item-section"),s=(0,r.g2)("q-item"),o=(0,r.g2)("q-separator");return(0,r.uX)(),(0,r.Wv)(z,{show:e.show,onClose:n},{title:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)(" Team Member Details ")]))),content:(0,r.k6)((()=>[(0,r.Lk)("div",ue,[(0,r.bF)(s,{class:"pd-0"},{default:(0,r.k6)((()=>[(0,r.bF)(a,{avatar:""},{default:(0,r.k6)((()=>[(0,r.bF)(J,{entity:e.teamMember.avatar},null,8,["entity"])])),_:1}),(0,r.bF)(a,{class:"item-info__wrapper"},{default:(0,r.k6)((()=>[(0,r.bF)(ie,{entity:e.teamMember},null,8,["entity"])])),_:1})])),_:1}),(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.bF)(a,{class:"justify-start"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",ce,[t[1]||(t[1]=(0,r.Lk)("div",{class:"name"},"Email:",-1)),(0,r.Lk)("div",me,(0,k.v_)(e.teamMember.email),1)]),(0,r.Lk)("div",de,[t[2]||(t[2]=(0,r.Lk)("div",{class:"name bold"},"Bio",-1)),(0,r.bF)(o),(0,r.Lk)("div",pe,(0,k.v_)(e.teamMember.bio),1)]),(0,r.Lk)("div",ve,[t[3]||(t[3]=(0,r.Lk)("div",{class:"name bold"},"Skills",-1)),(0,r.bF)(o),(0,r.bF)(ne,{entity:e.teamMember.skills},null,8,["entity"])])])),_:1})])),_:1})])])),_:1},8,["show"])}}}),be=a(5861);const ge=fe;var he=ge;function ye(){const e=(0,_.KR)(3),t=(0,_.KR)(221),a=()=>{const a=window.innerWidth;a<=510?(e.value=1,t.value=150):a<=680?(e.value=2,t.value=190):(e.value=3,t.value=221)};return(0,r.sV)((()=>{a(),window.addEventListener("resize",a)})),(0,r.xo)((()=>{window.removeEventListener("resize",a)})),{columnsPerRow:e,itemHeight:t}}m()(fe,"components",{QItem:j.A,QItemSection:I.A,QSeparator:be.A,QAvatar:H.A,QChip:te.A});var _e=a(8246);a(324);const ke=100,we=1e3;function Me(e,t){return t===e}function Ae(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}function Fe(e,t,a){let n="";return a.forEach((e=>{n+=Array.isArray(t[e])?t[e].join(" "):t[e]})),Ae(e,n)}function Ee(e,t,a,n){switch(!0){case"search"===a:return Fe(t,n,["name","skills"]);case"department"===a:return Me(t,e);default:return!1}}function Te(e,t,a,n){return!t||void 0!==e&&Ee(e,t,a,n)}function Re(e,t){return new Promise((a=>{let n=0;const r=[];function s(){const o=Math.min(n+ke,t.length),l=t?.slice?.(n,o),i=l?.filter?.((t=>{for(const a in e){const n=a,r=Te(t[n]||null,e[a],a,t);if(!r)return!1}return!0}));r.push(...i),n=o,n<t.length?setTimeout(s,we):(console.log("Filtering complete!"),a(r))}s()}))}const Ce={class:"page-content"},Se={class:"virtual-scroll__wrapper"},Le={key:0,class:"row q-col-gutter-md q-mb-md"},qe={key:1};var Qe=(0,r.pM)({__name:"View",props:{service:{default:null}},setup(e,{expose:t}){const{columnsPerRow:a,itemHeight:s}=ye(),o=(0,_.KR)(),l=(0,w.Pj)(),i=(0,r.EW)((()=>l?.state.teamMembers.teamMembers)),u=(0,r.EW)((()=>"grid"===c.value?F(p.value,a.value):p.value)),c=(0,r.EW)((()=>l?.state.teamMembers.gridType)),m=(0,_.KR)(!1),d=(0,_.KR)({}),p=(0,_.KR)([]),v=["","Name","Position","Department","Skills"],f=(0,_.KR)(!1),b=(0,_.KR)(!1),g=e=>{m.value=!0,d.value=e},h=e=>{b.value=!0,Re(e,i.value).then((e=>{p.value=e})).catch((e=>{console.log(e)})).finally((()=>{b.value=!1}))},y=async()=>{f.value=!0;try{await(l?.dispatch("teamMembers/getTeamMembers"))}catch(e){console.log(e)}finally{f.value=!1}};(()=>{y()})();return(0,r.wB)((()=>i.value),(async()=>{p.value=i.value,await(0,r.dY)(),o.value&&"function"===typeof o.value.refresh&&o.value.refresh()}),{deep:!0}),t({getTeamMemebrs:y,onFilterUpdate:h,chunkedTeamMembers:u}),(e,t)=>{const a=(0,r.g2)("q-item"),l=(0,r.g2)("q-spinner-gears"),p=(0,r.g2)("q-inner-loading");return(0,r.uX)(),(0,r.CE)(r.FK,null,[t[1]||(t[1]=(0,r.Lk)("div",{class:"page-title"},[(0,r.Lk)("div",{class:"text-h5"},"Team Member Directory")],-1)),(0,r.Lk)("div",Ce,[(0,r.bF)(P,{service:e.service,data:i.value,loading:(0,_.R1)(b),onUpdate:h},null,8,["service","data","loading"]),(0,r.bF)(n.eB,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("div",Se,[(0,r.bF)((0,_.R1)(_e.A),{ref_key:"virtualScrollRef",ref:o,items:u.value,"virtual-scroll-item-size":"grid"===c.value?(0,_.R1)(s):90,class:(0,k.C4)(["page-items",c.value])},{default:(0,r.k6)((t=>[t?.item&&"grid"===c.value?((0,r.uX)(),(0,r.CE)("div",Le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.item,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"col-md-4 col-sm-6 col-xs-12",key:e?.id},[(0,r.bF)(B,{teamMember:e,onShowInfo:g},null,8,["teamMember"])])))),128))])):t?.item?((0,r.uX)(),(0,r.CE)("div",qe,[0===e.index?((0,r.uX)(),(0,r.Wv)(a,{key:0,class:"page-items__header flex justify-start items-center"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(v,(e=>(0,r.Lk)("div",{key:`th-${e}`,class:"th"},(0,k.v_)(e),1))),64))])),_:1})):(0,r.Q3)("",!0),((0,r.uX)(),(0,r.Wv)(B,{teamMember:t?.item,key:t?.item?.id,onShowInfo:g},null,8,["teamMember"]))])):(0,r.Q3)("",!0)])),_:1},8,["items","virtual-scroll-item-size","class"])],512),[[n.aG,!(0,_.R1)(f)]])])),_:1}),(0,r.bF)(p,{showing:(0,_.R1)(f)},{default:(0,r.k6)((()=>[(0,r.bF)(l,{size:"50px",color:"primary"})])),_:1},8,["showing"])]),(0,r.bF)(he,{show:(0,_.R1)(m),teamMember:(0,_.R1)(d),onClose:t[0]||(t[0]=e=>m.value=!1)},null,8,["show","teamMember"])],64)}}}),Pe=a(9010),Xe=a(3357);const xe=Qe;var We=xe;m()(Qe,"components",{QVirtualScroll:_e.A,QItem:j.A,QInnerLoading:Pe.A,QSpinnerGears:Xe.A});var je=a(7119),Ie=a(4413);const Ke=Ie.A.create({timeout:6e4});var Oe=Ke;class Be{constructor(){(0,je.A)(this,"_url",void 0),this._url="/TeamMemberDirectory/"}get(e){return new Promise(((t,a)=>{setTimeout((()=>{Oe.get(`${this._url}${e}`).then((({data:e})=>t(e))).catch((e=>a(e)))}),1e3)}))}}class Ve{constructor(){(0,je.A)(this,"api",void 0),(0,je.A)(this,"defaultFilter",{search:"",department:""}),(0,je.A)(this,"inputFields",["search"]),(0,je.A)(this,"dropdownFields",["department"]),(0,je.A)(this,"fieldwidth",{search:6,department:4}),(0,je.A)(this,"listName",{search:"Search by name or skill",department:"Department"}),(0,je.A)(this,"fieldSettings",{options:{department:"department"}}),this.api=new Be}get(e){return this.api.get(e)}}var De=(0,r.pM)({__name:"List",setup(e){const t=new Ve;return(e,a)=>((0,r.uX)(),(0,r.Wv)(We,{service:(0,_.R1)(t)},null,8,["service"]))}});const Ue=De;var Ne=Ue;const ze=[{path:"/",name:"home",redirect:e=>"/team-members",children:[{path:"/team-members",name:"TeamMembersList",component:Ne}]},{path:"/:catchAll(.*)",component:y}],Ge=(0,f.aE)({history:(0,f.Bt)("/TeamMemberDirectory/"),routes:ze});var $e=Ge;const He=new Ve,Ye={teamMembers:[],gridTypes:["grid","list"],gridType:""},Je={SET_TEAM_MEMBERS(e,t){e.teamMembers=t},SET_GRID_TYPE(e,t){e.gridType=t}},Ze={async getTeamMembers({commit:e}){try{const t=await He.get("team-members.json");e("SET_TEAM_MEMBERS",A(t.data))}catch(t){console.error(t)}},setGridType({commit:e},t){e("SET_GRID_TYPE",t)}},et={namespaced:!0,state:Ye,mutations:Je,actions:Ze};var tt=et;const at=(0,w.y$)({state:{perPageArr:[5,10,25,50,100,200,500,1e3],pagination:{page:1,rowsPerPage:100,itemsOnPage:15},delimiter:"##"},getters:{},mutations:{},actions:{},modules:{teamMembers:tt}});var nt=a(4022);function rt(e="Ошибка"){st(e,"error")}function st(e,t){nt.A.create({color:"error"===t?"red-5":"green-4",textColor:"white",position:"top",attrs:{role:"alertdialog"},classes:"custom-notify",iconSize:"12px",actions:[{icon:"close",color:"white","aria-label":"Dismiss"}],message:e})}const ot=e=>{const t=e.response?.status,a=e.message||`Ошибка ${t}`;rt(a)},lt=()=>{Oe.interceptors.request.use((e=>(e.data instanceof FormData&&(e.headers["Content-Type"]="multipart/form-data",e.headers["Accept-encoding"]="gzip, deflate"),e.url&&(e.headers["accept"]="*/*",e.headers["X-CSRF-TOKEN"]="",e.headers["Access-Control-Allow-Origin"]="*"),"patch"===e.method&&(e.headers["Content-Type"]="application/json;charset=utf-8"),e)),(e=>(console.error("Request error"),Promise.reject(e)))),Oe.interceptors.response.use((e=>e),(async e=>{const t=e.response?.status;if(t){switch(t){case 400:console.log("Bad Request");break;case 401:console.log("Unauthorized");break;case 403:console.log("Forbidden");break;case 404:console.log("Not Found");break;case 501:console.log("Not Implemented");break;case 503:console.log("Service Unavailable");break;default:console.log("Response error")}ot(e)}return e.message.includes("timeout")&&console.error(e.message),Promise.reject(e)}))};var it=lt,ut=a(5139),ct=a(4934),mt={config:{},plugins:{Notify:nt.A,Dialog:ct.A}};it();const dt=(0,n.Ef)(v).use(ut.A,mt).use($e);$e.isReady().then((()=>{dt.use(at),dt.mount("#app")}))}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,s){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],s=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&s||o>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,s<o&&(o=s));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,o=n[0],l=n[1],i=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)s=o[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},n=self["webpackChunkteam_member_directory"]=self["webpackChunkteam_member_directory"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2163)}));n=a.O(n)})();
//# sourceMappingURL=app.2df64844.js.map